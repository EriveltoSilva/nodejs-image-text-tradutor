CREATE SCHEMA `db_my_image_translator` DEFAULT CHARACTER SET utf8 ;

create table person(
	id int auto_increment primary key,
    first_name varchar(50) not null,
    last_name varchar(50) not null, 
    birthday datetime not null,
    gender char(1) check(gender = 'M' or gender = 'F') default 'M',
    marital_status char(1) check (marital_status ='S' or marital_status='C' or marital_status = 'D' or marital_status = 'V') default 'S',
    nationality varchar(35),
    endereco varchar(75)
);

create table phone_number(
	id int auto_increment primary key,
    number varchar(13) not null,
    id_person int references person(id),
    unique(number, id_person)
);

create table user(
	id int auto_increment primary key,
    email varchar(50) not null unique,
    password varchar(32) not null,
    username varchar(35) not null unique,
    native_languague varchar(5) not null,
    ip_person int references person(id)
);

create table translation(
	id int auto_increment primary key,
    source_text text not null,
    final_text text not null, 
    source_language varchar(5) not null,
    final_language varchar(5) not null,
	translation_date timestamp default current_timestamp, 
    id_user int references user(id)
);